<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Golang Examples | immudb - The lightweight, high-speed immutable database</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="canonical" href="https://immudb.io">
    <link rel="shortcut icon" type="image/png" href="/favicon/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#4d4d4d">
    <script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "WebSite",
    "publisher": {
        "@type": "Organization",
        "name": "immudb - The lightweight, high-speed immutable database",
        "url": "https://immudb.io",
        "logo": {
            "@type": "ImageObject",
            "url": {
                "@type": "ImageObject",
                "url": "https://immudb.io/logo.png",
                "width": 1036,
                "height": 367
            }
        }
    },
    "url": "https://immudb.io",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://immudb.io"
    },
    "description": "immudb - the lightweight, high-speed immutable database for systems and applications. Open Source and easy to integrate into any existing application."
}</script>
    <script type="text/javascript">(function(e,t,o,n,p,r,i){e.visitorGlobalObjectAlias=n;e[e.visitorGlobalObjectAlias]=e[e.visitorGlobalObjectAlias]||function(){(e[e.visitorGlobalObjectAlias].q=e[e.visitorGlobalObjectAlias].q||[]).push(arguments)};e[e.visitorGlobalObjectAlias].l=(new Date).getTime();r=t.createElement("script");r.src=o;r.async=true;i=t.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)})(window,document,"https://diffuser-cdn.app-us1.com/diffuser/diffuser.js","vgo");
vgo('setAccount', '66487182');
vgo('setTrackByDefault', true);
vgo('process');</script>
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=UA-168112067-1"></script>
    <script async="true" src="https://www.google.com/recaptcha/api.js?onload=vueRecaptchaApiLoaded&amp;render=explicit"></script>
    <meta name="description" content="immudb - the lightweight, high-speed immutable database for systems and applications. Open Source and easy to integrate into any existing application.">
    <meta name="apple-mobile-web-app-title" content="immudb">
    <meta name="application-name" content="immudb">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta property="og:site_name" content="immudb">
    <meta property="og:type" content="website">
    <meta property="og:title" content="immudb - The lightweight, high-speed immutable database">
    <meta property="og:description" content="immudb - the lightweight, high-speed immutable database for systems and applications. Open Source and easy to integrate into any existing application.">
    <meta property="og:url" content="https://immudb.io">
    <meta property="article:publisher" content="https://immudb.io">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="immudb - The lightweight, high-speed immutable database">
    <meta name="twitter:description" content="immudb - the lightweight, high-speed immutable database for systems and applications. Open Source and easy to integrate into any existing application.">
    <meta name="twitter:url" content="https://immudb.io">
    <meta name="twitter:site" content="@immudb">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="preload" href="/assets/css/0.styles.86d6fffb.css" as="style"><link rel="preload" href="/assets/js/app.342285f5.js" as="script"><link rel="preload" href="/assets/js/56.983d0786.js" as="script"><link rel="prefetch" href="/assets/js/1.af157380.js"><link rel="prefetch" href="/assets/js/10.38852556.js"><link rel="prefetch" href="/assets/js/100.b1d8721d.js"><link rel="prefetch" href="/assets/js/101.50607c31.js"><link rel="prefetch" href="/assets/js/102.06b6c7e9.js"><link rel="prefetch" href="/assets/js/103.069aff3c.js"><link rel="prefetch" href="/assets/js/104.83be2063.js"><link rel="prefetch" href="/assets/js/105.63a5897c.js"><link rel="prefetch" href="/assets/js/106.03632cc9.js"><link rel="prefetch" href="/assets/js/107.7872dc33.js"><link rel="prefetch" href="/assets/js/108.9306aa49.js"><link rel="prefetch" href="/assets/js/109.9447fcca.js"><link rel="prefetch" href="/assets/js/11.9132be3b.js"><link rel="prefetch" href="/assets/js/110.afb653a6.js"><link rel="prefetch" href="/assets/js/111.1ab6dce6.js"><link rel="prefetch" href="/assets/js/112.6f5db7ff.js"><link rel="prefetch" href="/assets/js/113.3b755679.js"><link rel="prefetch" href="/assets/js/114.afb799f8.js"><link rel="prefetch" href="/assets/js/115.46e00e33.js"><link rel="prefetch" href="/assets/js/116.38a534a3.js"><link rel="prefetch" href="/assets/js/117.c5912a5d.js"><link rel="prefetch" href="/assets/js/118.618d236b.js"><link rel="prefetch" href="/assets/js/119.27f83b11.js"><link rel="prefetch" href="/assets/js/12.9ff2e484.js"><link rel="prefetch" href="/assets/js/120.f94be98a.js"><link rel="prefetch" href="/assets/js/121.28278c1c.js"><link rel="prefetch" href="/assets/js/122.9a862e04.js"><link rel="prefetch" href="/assets/js/123.11babdca.js"><link rel="prefetch" href="/assets/js/124.204eee8c.js"><link rel="prefetch" href="/assets/js/125.91a2a98b.js"><link rel="prefetch" href="/assets/js/126.0e9a8168.js"><link rel="prefetch" href="/assets/js/127.e65bf88e.js"><link rel="prefetch" href="/assets/js/128.b46e8b0c.js"><link rel="prefetch" href="/assets/js/129.7a0824b3.js"><link rel="prefetch" href="/assets/js/13.fdaf489e.js"><link rel="prefetch" href="/assets/js/130.3f03cfed.js"><link rel="prefetch" href="/assets/js/131.f3fa54f8.js"><link rel="prefetch" href="/assets/js/132.e4685b5d.js"><link rel="prefetch" href="/assets/js/133.90ee3098.js"><link rel="prefetch" href="/assets/js/134.317d2a9d.js"><link rel="prefetch" href="/assets/js/135.57ad353a.js"><link rel="prefetch" href="/assets/js/136.ac4816b2.js"><link rel="prefetch" href="/assets/js/137.a305cfeb.js"><link rel="prefetch" href="/assets/js/138.07213d71.js"><link rel="prefetch" href="/assets/js/139.f50b8660.js"><link rel="prefetch" href="/assets/js/14.f32c2d69.js"><link rel="prefetch" href="/assets/js/140.65a5b8ab.js"><link rel="prefetch" href="/assets/js/141.807aabf4.js"><link rel="prefetch" href="/assets/js/142.32464308.js"><link rel="prefetch" href="/assets/js/143.f204cfb7.js"><link rel="prefetch" href="/assets/js/144.bf61b874.js"><link rel="prefetch" href="/assets/js/145.26161947.js"><link rel="prefetch" href="/assets/js/146.b6208f00.js"><link rel="prefetch" href="/assets/js/147.b95dd3fd.js"><link rel="prefetch" href="/assets/js/148.5968fbed.js"><link rel="prefetch" href="/assets/js/149.0b6fad1b.js"><link rel="prefetch" href="/assets/js/15.671061d5.js"><link rel="prefetch" href="/assets/js/150.4a4bcb8f.js"><link rel="prefetch" href="/assets/js/151.f08387a0.js"><link rel="prefetch" href="/assets/js/152.56b7c28a.js"><link rel="prefetch" href="/assets/js/153.d4a95387.js"><link rel="prefetch" href="/assets/js/154.9132f5ab.js"><link rel="prefetch" href="/assets/js/155.5df80b7e.js"><link rel="prefetch" href="/assets/js/156.e938e01c.js"><link rel="prefetch" href="/assets/js/157.817a2a03.js"><link rel="prefetch" href="/assets/js/158.b045f8b0.js"><link rel="prefetch" href="/assets/js/159.7dab8b15.js"><link rel="prefetch" href="/assets/js/16.5b03d036.js"><link rel="prefetch" href="/assets/js/160.acd7fcea.js"><link rel="prefetch" href="/assets/js/161.28d9c7b0.js"><link rel="prefetch" href="/assets/js/162.751b1a78.js"><link rel="prefetch" href="/assets/js/163.825311e9.js"><link rel="prefetch" href="/assets/js/164.f35353fc.js"><link rel="prefetch" href="/assets/js/165.2b476ace.js"><link rel="prefetch" href="/assets/js/166.769431dc.js"><link rel="prefetch" href="/assets/js/167.27cd295d.js"><link rel="prefetch" href="/assets/js/168.4f447000.js"><link rel="prefetch" href="/assets/js/169.d3f9f9c6.js"><link rel="prefetch" href="/assets/js/17.f4dcff4e.js"><link rel="prefetch" href="/assets/js/170.062eb05f.js"><link rel="prefetch" href="/assets/js/171.ee41939e.js"><link rel="prefetch" href="/assets/js/172.385235f7.js"><link rel="prefetch" href="/assets/js/173.6e1236a8.js"><link rel="prefetch" href="/assets/js/174.560fc980.js"><link rel="prefetch" href="/assets/js/175.a6b09b82.js"><link rel="prefetch" href="/assets/js/176.29394b44.js"><link rel="prefetch" href="/assets/js/177.a8825080.js"><link rel="prefetch" href="/assets/js/178.566ddb5b.js"><link rel="prefetch" href="/assets/js/179.c91d35bc.js"><link rel="prefetch" href="/assets/js/18.754e70eb.js"><link rel="prefetch" href="/assets/js/180.85c971b8.js"><link rel="prefetch" href="/assets/js/181.5e189be0.js"><link rel="prefetch" href="/assets/js/182.82c339c5.js"><link rel="prefetch" href="/assets/js/183.34e13cca.js"><link rel="prefetch" href="/assets/js/184.6fba1ee5.js"><link rel="prefetch" href="/assets/js/185.6c637f25.js"><link rel="prefetch" href="/assets/js/186.272205c5.js"><link rel="prefetch" href="/assets/js/187.9ac0c29b.js"><link rel="prefetch" href="/assets/js/188.11f6ccd4.js"><link rel="prefetch" href="/assets/js/19.9319b1b3.js"><link rel="prefetch" href="/assets/js/2.069d0041.js"><link rel="prefetch" href="/assets/js/20.bb9f1462.js"><link rel="prefetch" href="/assets/js/21.f63c2bfc.js"><link rel="prefetch" href="/assets/js/22.bb819e36.js"><link rel="prefetch" href="/assets/js/23.1bd77f97.js"><link rel="prefetch" href="/assets/js/24.ba61753b.js"><link rel="prefetch" href="/assets/js/25.dcdd839d.js"><link rel="prefetch" href="/assets/js/26.c1d3d0a9.js"><link rel="prefetch" href="/assets/js/27.f6a1ccc5.js"><link rel="prefetch" href="/assets/js/28.fd782aba.js"><link rel="prefetch" href="/assets/js/29.3b71d017.js"><link rel="prefetch" href="/assets/js/3.157be00c.js"><link rel="prefetch" href="/assets/js/30.19d6881e.js"><link rel="prefetch" href="/assets/js/31.499e592a.js"><link rel="prefetch" href="/assets/js/32.b3090a5f.js"><link rel="prefetch" href="/assets/js/33.5ce8baa4.js"><link rel="prefetch" href="/assets/js/34.6bfbf083.js"><link rel="prefetch" href="/assets/js/35.92a0d16f.js"><link rel="prefetch" href="/assets/js/36.44775400.js"><link rel="prefetch" href="/assets/js/37.7c4a7d55.js"><link rel="prefetch" href="/assets/js/38.3fb736e5.js"><link rel="prefetch" href="/assets/js/39.329e770f.js"><link rel="prefetch" href="/assets/js/40.a7285fce.js"><link rel="prefetch" href="/assets/js/41.fd8d5071.js"><link rel="prefetch" href="/assets/js/42.474f6141.js"><link rel="prefetch" href="/assets/js/43.29b6a70b.js"><link rel="prefetch" href="/assets/js/44.ae422f2c.js"><link rel="prefetch" href="/assets/js/45.efcb1895.js"><link rel="prefetch" href="/assets/js/46.865b0370.js"><link rel="prefetch" href="/assets/js/47.9539faf3.js"><link rel="prefetch" href="/assets/js/48.2aa2fd52.js"><link rel="prefetch" href="/assets/js/49.1ad7547b.js"><link rel="prefetch" href="/assets/js/50.ff80c1fa.js"><link rel="prefetch" href="/assets/js/51.f3380096.js"><link rel="prefetch" href="/assets/js/52.0030cf77.js"><link rel="prefetch" href="/assets/js/53.53bd7b5b.js"><link rel="prefetch" href="/assets/js/54.ca7c5465.js"><link rel="prefetch" href="/assets/js/55.b65720e9.js"><link rel="prefetch" href="/assets/js/57.7c164b55.js"><link rel="prefetch" href="/assets/js/58.405ef6c3.js"><link rel="prefetch" href="/assets/js/59.b6098755.js"><link rel="prefetch" href="/assets/js/6.5ed48d03.js"><link rel="prefetch" href="/assets/js/60.8999890e.js"><link rel="prefetch" href="/assets/js/61.d7dc9457.js"><link rel="prefetch" href="/assets/js/62.be98c591.js"><link rel="prefetch" href="/assets/js/63.ccf41138.js"><link rel="prefetch" href="/assets/js/64.44ca807e.js"><link rel="prefetch" href="/assets/js/65.dab23372.js"><link rel="prefetch" href="/assets/js/66.c2562eb0.js"><link rel="prefetch" href="/assets/js/67.5cb898a3.js"><link rel="prefetch" href="/assets/js/68.2f12285f.js"><link rel="prefetch" href="/assets/js/69.ba7cfa29.js"><link rel="prefetch" href="/assets/js/7.1294acdb.js"><link rel="prefetch" href="/assets/js/70.919aae06.js"><link rel="prefetch" href="/assets/js/71.665f961a.js"><link rel="prefetch" href="/assets/js/72.1a8eca2e.js"><link rel="prefetch" href="/assets/js/73.9a9845d4.js"><link rel="prefetch" href="/assets/js/74.596b2f05.js"><link rel="prefetch" href="/assets/js/75.9612e270.js"><link rel="prefetch" href="/assets/js/76.67827ec0.js"><link rel="prefetch" href="/assets/js/77.546e6d1e.js"><link rel="prefetch" href="/assets/js/78.82b1b432.js"><link rel="prefetch" href="/assets/js/79.ffc0902e.js"><link rel="prefetch" href="/assets/js/8.71bc2e4b.js"><link rel="prefetch" href="/assets/js/80.28240008.js"><link rel="prefetch" href="/assets/js/81.5b878f10.js"><link rel="prefetch" href="/assets/js/82.6b9da784.js"><link rel="prefetch" href="/assets/js/83.a5a5e31a.js"><link rel="prefetch" href="/assets/js/84.55f30b35.js"><link rel="prefetch" href="/assets/js/85.b77a2da6.js"><link rel="prefetch" href="/assets/js/86.cf3d2dce.js"><link rel="prefetch" href="/assets/js/87.9ec948b1.js"><link rel="prefetch" href="/assets/js/88.8d243519.js"><link rel="prefetch" href="/assets/js/89.52ef3993.js"><link rel="prefetch" href="/assets/js/9.fecb4f8b.js"><link rel="prefetch" href="/assets/js/90.db6fa97d.js"><link rel="prefetch" href="/assets/js/91.80ac989c.js"><link rel="prefetch" href="/assets/js/92.46084195.js"><link rel="prefetch" href="/assets/js/93.cef3df0a.js"><link rel="prefetch" href="/assets/js/94.4e5064a9.js"><link rel="prefetch" href="/assets/js/95.688acf98.js"><link rel="prefetch" href="/assets/js/96.9baab63f.js"><link rel="prefetch" href="/assets/js/97.3307cdbd.js"><link rel="prefetch" href="/assets/js/98.b9b8b78c.js"><link rel="prefetch" href="/assets/js/99.ebd68a85.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.bbff92d6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.86d6fffb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-63485741><header class="navbar" data-v-63485741><div class="sidebar-button"><img src="/icons/hamburger.svg" class="icon"></div> <a href="/" class="home-link router-link-active"><img src="/logo_white.svg" alt="immudb - The lightweight, high-speed immutable database" class="logo"> <span class="site-name can-hide">immudb - The lightweight, high-speed immutable database</span></a> <div class="links cn-text-sm"><nav class="nav-links can-hide"><div class="nav-item"><a href="https://codenotary.io/technologies/immudb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Codenotary
</a></div><div class="nav-item"><a href="https://codenotary.io/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/codenotary/immudb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
</a></div> <!----></nav></div> <div class="actions flex row"><form id="search-form" role="search" class="algolia-search-wrapper search-box can-hide"><input id="algolia-search-input" class="search-query"></form> <div class="version-wrapper" data-v-252e82ca><div class="version-button" data-v-252e82ca><button class="skip-click-event cn-button cn-button_secondary" style="text-transform:capitalize;" data-v-49d61aa5 data-v-252e82ca>
        v0.8.1
        <img src="/icons/dropdown_triangle.svg" height="12" width="15" data-v-49d61aa5 data-v-252e82ca></button> <div class="version-dropdown" data-v-252e82ca><div class="version-dropdown-item" data-v-252e82ca><a href="/master" data-v-252e82ca>
            master
          </a></div><div class="version-dropdown-item" data-v-252e82ca><a href="/1.0.0" data-v-252e82ca>
            v1.0.0
          </a></div><div class="version-dropdown-item" data-v-252e82ca><a href="/0.9.2" data-v-252e82ca>
            v0.9.2
          </a></div><div disabled="disabled" class="version-dropdown-item" data-v-252e82ca><a href="/0.8.1" disabled="disabled" class="router-link-active" data-v-252e82ca>
            v0.8.1
          </a></div></div></div></div></div></header> <div class="sidebar-mask" data-v-63485741></div> <aside class="sidebar" data-v-63485741><form id="search-form" role="search" class="algolia-search-wrapper search-box search-box"><input id="sidebarSearchbox" class="search-query"></form> <div class="scrollable-area"><nav class="nav-links"><div class="nav-item"><a href="https://codenotary.io/technologies/immudb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Codenotary
</a></div><div class="nav-item"><a href="https://codenotary.io/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
</a></div><div class="nav-item"><a href="https://github.com/codenotary/immudb" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Welcome</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/master/" class="sidebar-link">Introduction</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Learn about immudb</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/master/about.html" class="sidebar-link">immudb explained</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/about.html#what-is-immudb" class="sidebar-link">What is immudb?</a></li><li class="sidebar-sub-header"><a href="/master/about.html#what-makes-immudb-special" class="sidebar-link">What makes immudb special?</a></li><li class="sidebar-sub-header"><a href="/master/about.html#how-can-i-use-immudb" class="sidebar-link">How can I use immudb?</a></li></ul></li><li><a href="/master/concepts.html" class="sidebar-link">Concepts</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/concepts.html#adding-data" class="sidebar-link">Adding data</a></li><li class="sidebar-sub-header"><a href="/master/concepts.html#checking-data-consistency" class="sidebar-link">Checking data consistency</a></li><li class="sidebar-sub-header"><a href="/master/concepts.html#state-signature" class="sidebar-link">State signature</a></li><li class="sidebar-sub-header"><a href="/master/concepts.html#item-references" class="sidebar-link">Item References</a></li><li class="sidebar-sub-header"><a href="/master/concepts.html#primary-index" class="sidebar-link">Primary Index</a></li><li class="sidebar-sub-header"><a href="/master/concepts.html#secondary-index" class="sidebar-link">Secondary Index</a></li><li class="sidebar-sub-header"><a href="/master/concepts.html#streams" class="sidebar-link">Streams</a></li><li class="sidebar-sub-header"><a href="/master/concepts.html#cryptographic-signatures" class="sidebar-link">Cryptographic signatures</a></li><li class="sidebar-sub-header"><a href="/master/concepts.html#authentication-transport" class="sidebar-link">Authentication (transport)</a></li><li class="sidebar-sub-header"><a href="/master/concepts.html#immugw-communication" class="sidebar-link">immugw communication</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Get started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/master/quickstart.html" class="sidebar-link">User Quickstart with immudb and immuclient</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/quickstart.html#getting-immudb-running" class="sidebar-link">Getting immudb running</a></li><li class="sidebar-sub-header"><a href="/master/quickstart.html#connecting-with-immuclient" class="sidebar-link">Connecting with immuclient</a></li><li class="sidebar-sub-header"><a href="/master/quickstart.html#basic-operations-with-immuclient" class="sidebar-link">Basic operations with immuclient</a></li><li class="sidebar-sub-header"><a href="/master/quickstart.html#sql-operations-with-immuclient" class="sidebar-link">SQL operations with immuclient</a></li><li class="sidebar-sub-header"><a href="/master/quickstart.html#time-travel" class="sidebar-link">Time travel</a></li></ul></li><li><a href="/master/getstarted/webconsole.html" class="sidebar-link">The immudb Web Console</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/getstarted/webconsole.html#accessing-the-web-console" class="sidebar-link">Accessing the Web Console</a></li></ul></li><li><a href="/master/jumpstart.html" class="sidebar-link">Getting started with immudb Development</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/jumpstart.html#clients" class="sidebar-link">Clients</a></li><li class="sidebar-sub-header"><a href="/master/jumpstart.html#sdks" class="sidebar-link">SDKs</a></li><li class="sidebar-sub-header"><a href="/master/jumpstart.html#getting-immudb-running" class="sidebar-link">Getting immudb running</a></li><li class="sidebar-sub-header"><a href="/master/jumpstart.html#connecting-from-your-programming-language" class="sidebar-link">Connecting from your programming language</a></li><li class="sidebar-sub-header"><a href="/master/jumpstart.html#sql-operations-with-the-go-sdk" class="sidebar-link">SQL Operations with the Go SDK</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Operations</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/master/operations/planning.html" class="sidebar-link">Planning</a></li><li><a href="/master/operations/service.html" class="sidebar-link">Running as a service</a></li><li><a href="/master/operations/monitoring.html" class="sidebar-link">Health Monitoring</a></li><li><a href="/master/operations/specs.html" class="sidebar-link">immudb specs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Develop</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/master/develop/connection.html" class="sidebar-link">Connection and authentication</a></li><li><a href="/master/develop/reading.html" class="sidebar-link">Reading and inserting data</a></li><li><a href="/master/develop/operations.html" class="sidebar-link">Tamper-proof operations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/develop/operations.html#state-management" class="sidebar-link">State management</a></li><li class="sidebar-sub-header"><a href="/master/develop/operations.html#tamperproof-reading-and-writing" class="sidebar-link">Tamperproof reading and writing</a></li></ul></li><li><a href="/master/develop/history.html" class="sidebar-link">Queries and history</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/develop/history.html#counting" class="sidebar-link">Counting</a></li><li class="sidebar-sub-header"><a href="/master/develop/history.html#scan" class="sidebar-link">Scan</a></li><li class="sidebar-sub-header"><a href="/master/develop/history.html#references" class="sidebar-link">References</a></li></ul></li><li><a href="/master/develop/streams.html" class="sidebar-link">Streams</a></li><li><a href="/master/develop/management.html" class="sidebar-link">Management operations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/develop/management.html#user-management" class="sidebar-link">User management</a></li><li class="sidebar-sub-header"><a href="/master/develop/management.html#multiple-databases" class="sidebar-link">Multiple databases</a></li><li class="sidebar-sub-header"><a href="/master/develop/management.html#index-cleaning" class="sidebar-link">Index Cleaning</a></li><li class="sidebar-sub-header"><a href="/master/develop/management.html#healthcheck" class="sidebar-link">HealthCheck</a></li></ul></li><li><a href="/master/develop/indexes.html" class="sidebar-link">Secondary indexes</a></li><li><a href="/master/develop/transactions.html" class="sidebar-link">Transactions</a></li><li><a href="/master/develop/utilities.html" class="sidebar-link">Tamperproofing utilities</a></li><li><a href="/master/develop/additional.html" class="sidebar-link">Additional Resources</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/develop/additional.html#immudb-sdks-examples" class="sidebar-link">Immudb SDKs examples</a></li></ul></li><li><a href="/master/develop/pg.html" class="sidebar-link">Pgsql protocol compatibility</a></li><li><a href="/master/develop/embedding.html" class="sidebar-link">Embedding the SQL engine in your application</a></li><li><a href="/master/build.html" class="sidebar-link">Building from source</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/build.html#build-the-binaries" class="sidebar-link">Build the binaries</a></li><li class="sidebar-sub-header"><a href="/master/build.html#build-the-docker-images" class="sidebar-link">Build the Docker images</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/master/reference/configuration.html" class="sidebar-link">Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/reference/configuration.html#configuration-file" class="sidebar-link">Configuration file</a></li><li class="sidebar-sub-header"><a href="/master/reference/configuration.html#environment-variables" class="sidebar-link">Environment variables</a></li></ul></li><li><a href="/master/reference/sql.html" class="sidebar-link">SQL Reference</a></li><li><a href="/master/reference/sdk.html" class="sidebar-link">SDK API</a></li></ul></section></li></ul></div> </aside> <main class="page" data-v-63485741> <div class="content-wrapper"><div name="container" class="container none" data-v-5b38918b><div class="page-content content__default"><h1 id="golang-examples"><a href="#golang-examples" class="header-anchor">#</a> Golang Examples</h1> <h2 id="contents"><a href="#contents" class="header-anchor">#</a> Contents</h2> <ul><li><a href="#import">Import</a></li> <li><a href="#start-immudb">Start immudb</a></li> <li><a href="#connect-a-new-client">Connect a new client</a></li> <li><a href="#write-transactions-without-verification">Write transactions without verification</a></li> <li><a href="#write-transactions-with-verification">Write transactions with verification</a></li> <li><a href="#structured-values">Structured values</a></li> <li><a href="#add-reference-to-existing-entries">Add reference to existing entries</a></li> <li><a href="#add-secondary-index">Add secondary index</a></li> <li><a href="#read-entries-without-verification">Read entries without verification</a></li> <li><a href="#read-entries-with-verification">Read entries with verification</a></li> <li><a href="#scan-entries">Scan entries</a></li> <li><a href="#count-entries">Count entries</a></li> <li><a href="#get-current-root">Get current root</a></li> <li><a href="#check-consistency">Check consistency</a></li> <li><a href="#check-inclusion">Check inclusion</a></li> <li><a href="#error-handling-and-cleanup">Error handling and cleanup</a></li> <li><a href="#hello-world-example">Hello World Example</a></li></ul> <p>The following code snippets explain how to work with immudb from start to finish using Golang:</p> <h2 id="import"><a href="#import" class="header-anchor">#</a> Import</h2> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;context&quot;</span>
	<span class="token string">&quot;fmt&quot;</span>
	<span class="token string">&quot;os&quot;</span>
	<span class="token string">&quot;path/filepath&quot;</span>
	<span class="token string">&quot;time&quot;</span>

	immuapi <span class="token string">&quot;github.com/codenotary/immudb/pkg/api&quot;</span>
	immuschema <span class="token string">&quot;github.com/codenotary/immudb/pkg/api/schema&quot;</span>
	immuclient <span class="token string">&quot;github.com/codenotary/immudb/pkg/client&quot;</span>
	immulogger <span class="token string">&quot;github.com/codenotary/immudb/pkg/logger&quot;</span>
	immuserver <span class="token string">&quot;github.com/codenotary/immudb/pkg/server&quot;</span>
	immustore <span class="token string">&quot;github.com/codenotary/immudb/pkg/store&quot;</span>
<span class="token punctuation">)</span>

</code></pre></div><h2 id="start-immudb"><a href="#start-immudb" class="header-anchor">#</a> Start immudb</h2> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">//===&gt; 1. Start a new server</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;1. Start immudb server ...&quot;</span><span class="token punctuation">)</span>

	<span class="token keyword">const</span> logfile <span class="token operator">=</span> <span class="token string">&quot;immuserver.log&quot;</span>
	flogger<span class="token punctuation">,</span> file<span class="token punctuation">,</span> err <span class="token operator">:=</span>
		immulogger<span class="token punctuation">.</span><span class="token function">NewFileLogger</span><span class="token punctuation">(</span><span class="token string">&quot;immuserver &quot;</span><span class="token punctuation">,</span> logfile<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> err <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	serverOptions <span class="token operator">:=</span> immuserver<span class="token punctuation">.</span><span class="token function">DefaultOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithLogfile</span><span class="token punctuation">(</span>logfile<span class="token punctuation">)</span>
	server <span class="token operator">:=</span> immuserver<span class="token punctuation">.</span><span class="token function">DefaultServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithOptions</span><span class="token punctuation">(</span>serverOptions<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithLogger</span><span class="token punctuation">(</span>flogger<span class="token punctuation">)</span>
	<span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> err <span class="token operator">:=</span> server<span class="token punctuation">.</span><span class="token function">Start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		err <span class="token operator">:=</span> server<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token comment">// NOTE: this cleanup must NOT be done in a real-world scenario!</span>
		<span class="token function">cleanup</span><span class="token punctuation">(</span>server<span class="token punctuation">.</span>Options<span class="token punctuation">.</span>Dir<span class="token punctuation">,</span> server<span class="token punctuation">.</span>Options<span class="token punctuation">.</span>Logfile<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// wait for server to start</span>
	time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Millisecond<span class="token punctuation">)</span>
	
</code></pre></div><h2 id="connect-a-new-client"><a href="#connect-a-new-client" class="header-anchor">#</a> Connect a new client</h2> <div class="language-go extra-class"><pre class="language-go"><code>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;2. Connect immudb client ...&quot;</span><span class="token punctuation">)</span>

	client<span class="token punctuation">,</span> err <span class="token operator">:=</span> immuclient<span class="token punctuation">.</span><span class="token function">NewImmuClient</span><span class="token punctuation">(</span>immuclient<span class="token punctuation">.</span><span class="token function">DefaultOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	ctx <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="write-transactions-without-verification"><a href="#write-transactions-without-verification" class="header-anchor">#</a> Write transactions without verification</h2> <div class="language-go extra-class"><pre class="language-go"><code>
	<span class="token comment">//------&gt; Set</span>
	key1<span class="token punctuation">,</span> value1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;client:Ms. Noelia Jaskolski&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;Visa 1514284849020756 09/21&quot;</span><span class="token punctuation">)</span>
	index<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">Set</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> key1<span class="token punctuation">,</span> value1<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   Set - add entry:&quot;</span><span class="token punctuation">)</span>
	<span class="token function">printItem</span><span class="token punctuation">(</span>key1<span class="token punctuation">,</span> value1<span class="token punctuation">,</span> index<span class="token punctuation">)</span>

</code></pre></div><h2 id="write-transactions-with-verification"><a href="#write-transactions-with-verification" class="header-anchor">#</a> Write transactions with verification</h2> <div class="language-go extra-class"><pre class="language-go"><code>
	<span class="token comment">//------&gt; SafeSet</span>
	key2<span class="token punctuation">,</span> value2 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;client:Mr. Archibald Beatty&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;Visa 6679499384784022 11/23&quot;</span><span class="token punctuation">)</span>
	verifiedIndex<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">SafeSet</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> key2<span class="token punctuation">,</span> value2<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   SafeSet - add and verify entry:&quot;</span><span class="token punctuation">)</span>
	<span class="token function">printItem</span><span class="token punctuation">(</span>key2<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> verifiedIndex<span class="token punctuation">)</span>

	key3<span class="token punctuation">,</span> value3 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;client:Ms. Maci Schuppe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;MasterCard 2232703813463070 12/19&quot;</span><span class="token punctuation">)</span>
	verifiedIndex<span class="token punctuation">,</span> err <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">SafeSet</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> key3<span class="token punctuation">,</span> value3<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   SafeSet - add and verify entry:&quot;</span><span class="token punctuation">)</span>
	<span class="token function">printItem</span><span class="token punctuation">(</span>key3<span class="token punctuation">,</span> value3<span class="token punctuation">,</span> verifiedIndex<span class="token punctuation">)</span>

	value3 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;MasterCard 8069498678459876 10/22&quot;</span><span class="token punctuation">)</span>
	verifiedIndex<span class="token punctuation">,</span> err <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">SafeSet</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> key3<span class="token punctuation">,</span> value3<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   SafeSet - update and verify entry:&quot;</span><span class="token punctuation">)</span>
	<span class="token function">printItem</span><span class="token punctuation">(</span>key3<span class="token punctuation">,</span> value3<span class="token punctuation">,</span> verifiedIndex<span class="token punctuation">)</span>

</code></pre></div><h3 id="structured-values"><a href="#structured-values" class="header-anchor">#</a> Structured values</h3> <p>Whenever we use golang sdk to set data in immudb we adding also other extra data to the  request. Currently we store at the same level of the payload also the timestamp.
The server should not set the timestamp, to avoid relying on a not verifiable “single source of truth”. This is the reason why is the client in charge of that.
Following the related structures:</p> <div class="language-go extra-class"><pre class="language-go"><code>message StructuredKeyValue <span class="token punctuation">{</span>
	bytes key <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	Content value <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
message Content <span class="token punctuation">{</span>
	<span class="token builtin">uint64</span> timestamp <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	bytes payload <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Though content is never unmarshal by the server, current definition are located in protobuffer schema and they can be easily extended.</p> <p>In convert.go there is the logic used by the client:</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>item <span class="token operator">*</span>Item<span class="token punctuation">)</span> <span class="token function">ToSItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token operator">*</span>StructuredItem<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c <span class="token operator">:=</span> Content<span class="token punctuation">{</span><span class="token punctuation">}</span>
	err <span class="token operator">:=</span> proto<span class="token punctuation">.</span><span class="token function">Unmarshal</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token operator">&amp;</span>StructuredItem<span class="token punctuation">{</span>
		Index<span class="token punctuation">:</span> item<span class="token punctuation">.</span>Index<span class="token punctuation">,</span>
		Key<span class="token punctuation">:</span>   item<span class="token punctuation">.</span>Key<span class="token punctuation">,</span>
		Value<span class="token punctuation">:</span> <span class="token operator">&amp;</span>c<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="add-reference-to-existing-entries"><a href="#add-reference-to-existing-entries" class="header-anchor">#</a> Add reference to existing entries</h2> <div class="language-go extra-class"><pre class="language-go"><code>
	<span class="token comment">//------&gt; SafeReference</span>
	key3Ref <span class="token operator">:=</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;reference:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> key3<span class="token operator">...</span><span class="token punctuation">)</span>
	verifiedIndex<span class="token punctuation">,</span> err <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">SafeReference</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> key3Ref<span class="token punctuation">,</span> key3<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   SafeReference - add and verify a reference key to an existing entry:&quot;</span><span class="token punctuation">)</span>
	<span class="token function">printItem</span><span class="token punctuation">(</span>key3Ref<span class="token punctuation">,</span> value3<span class="token punctuation">,</span> verifiedIndex<span class="token punctuation">)</span>

</code></pre></div><h2 id="add-secondary-index"><a href="#add-secondary-index" class="header-anchor">#</a> Add secondary index</h2> <div class="language-go extra-class"><pre class="language-go"><code>
	<span class="token comment">//------&gt; SafeZAdd</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   SafeZAdd - add and verify scores for existing keys to a new or existing sorted set:&quot;</span><span class="token punctuation">)</span>
	set1 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;SetOfClientsThatAreWomen&quot;</span><span class="token punctuation">)</span>
	key1Score <span class="token operator">:=</span> <span class="token number">1.</span>
	verifiedIndex<span class="token punctuation">,</span> err <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">SafeZAdd</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> set1<span class="token punctuation">,</span> key1Score<span class="token punctuation">,</span> key1<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token function">printSetItem</span><span class="token punctuation">(</span>set1<span class="token punctuation">,</span> key1<span class="token punctuation">,</span> key1Score<span class="token punctuation">,</span> verifiedIndex<span class="token punctuation">)</span>
	key3Score <span class="token operator">:=</span> <span class="token number">3.</span>
	verifiedIndex<span class="token punctuation">,</span> err <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">SafeZAdd</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> set1<span class="token punctuation">,</span> key3Score<span class="token punctuation">,</span> key3<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;	------&quot;</span><span class="token punctuation">)</span>
	<span class="token function">printSetItem</span><span class="token punctuation">(</span>set1<span class="token punctuation">,</span> key3<span class="token punctuation">,</span> key3Score<span class="token punctuation">,</span> verifiedIndex<span class="token punctuation">)</span>

</code></pre></div><h2 id="read-entries-without-verification"><a href="#read-entries-without-verification" class="header-anchor">#</a> Read entries without verification</h2> <div class="language-go extra-class"><pre class="language-go"><code>	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;4. Read entries ...&quot;</span><span class="token punctuation">)</span>

	<span class="token comment">//------&gt; Get</span>
	item<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> key1<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   Get - fetch entry:&quot;</span><span class="token punctuation">)</span>
	<span class="token function">printItem</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span>

</code></pre></div><h2 id="read-entries-with-verification"><a href="#read-entries-with-verification" class="header-anchor">#</a> Read entries with verification</h2> <div class="language-go extra-class"><pre class="language-go"><code>
	<span class="token comment">//------&gt; SafeGet</span>
	verifiedItem<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">SafeGet</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> key2<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   SafeGet - fetch and verify entry:&quot;</span><span class="token punctuation">)</span>
	<span class="token function">printItem</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> verifiedItem<span class="token punctuation">)</span>

	verifiedItem<span class="token punctuation">,</span> err <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">SafeGet</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> key3Ref<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   SafeGet - fetch and verify entry by reference key:&quot;</span><span class="token punctuation">)</span>
	<span class="token function">printItem</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> verifiedItem<span class="token punctuation">)</span>

</code></pre></div><h2 id="scan-entries"><a href="#scan-entries" class="header-anchor">#</a> Scan entries</h2> <div class="language-go extra-class"><pre class="language-go"><code>
	<span class="token comment">// zscan             Iterate over a sorted set</span>
	structuredItemList<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">ZScan</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> set1<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   ZScan - iterate over a sorted set:&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> item <span class="token operator">:=</span> <span class="token keyword">range</span> structuredItemList<span class="token punctuation">.</span>Items <span class="token punctuation">{</span>
		<span class="token function">printItem</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;	------&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//------&gt; Scan</span>
	prefix <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;client:Mr.&quot;</span><span class="token punctuation">)</span>
	structuredItemList<span class="token punctuation">,</span> err <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">Scan</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> prefix<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;   Scan - iterate over keys having the specified prefix (e.g. \&quot;%s\&quot;):\n&quot;</span><span class="token punctuation">,</span> prefix<span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> item <span class="token operator">:=</span> <span class="token keyword">range</span> structuredItemList<span class="token punctuation">.</span>Items <span class="token punctuation">{</span>
		<span class="token function">printItem</span><span class="token punctuation">(</span><span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;	------&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>

</code></pre></div><h2 id="count-entries"><a href="#count-entries" class="header-anchor">#</a> Count  entries</h2> <div class="language-go extra-class"><pre class="language-go"><code>	<span class="token comment">//------&gt; Count</span>
	prefix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;client:Ms.&quot;</span><span class="token punctuation">)</span>
	itemsCount<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">Count</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> prefix<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;   Count - count keys having the specified prefix (e.g. \&quot;%s\&quot;):\n&quot;</span><span class="token punctuation">,</span> prefix<span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;	count:		%d\n&quot;</span><span class="token punctuation">,</span> itemsCount<span class="token punctuation">.</span>Count<span class="token punctuation">)</span>

</code></pre></div><h2 id="get-current-root"><a href="#get-current-root" class="header-anchor">#</a> Get current root</h2> <div class="language-go extra-class"><pre class="language-go"><code>
	<span class="token comment">//------&gt; Current tree root</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   Current root - return the last merkle tree root and index stored locally&quot;</span><span class="token punctuation">)</span>
	currentRoot<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">CurrentRoot</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> currentRoot<span class="token punctuation">.</span>Root <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;no root found: immudb is empty&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;	index:		%d\n	hash:		%x\n&quot;</span><span class="token punctuation">,</span> currentRoot<span class="token punctuation">.</span>Index<span class="token punctuation">,</span> currentRoot<span class="token punctuation">.</span>Root<span class="token punctuation">)</span>

</code></pre></div><h3 id="add-a-new-entry-after-getting-current-root"><a href="#add-a-new-entry-after-getting-current-root" class="header-anchor">#</a> Add a new entry after getting current root</h3> <div class="language-go extra-class"><pre class="language-go"><code>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   Add a new entry after getting current root:&quot;</span><span class="token punctuation">)</span>
	key4<span class="token punctuation">,</span> value4 <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;client:Mr. Valentin Padurean&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span><span class="token string">&quot;MasterCard 2232703813463070 01/24&quot;</span><span class="token punctuation">)</span>
	verifiedIndex<span class="token punctuation">,</span> err <span class="token operator">=</span> client<span class="token punctuation">.</span><span class="token function">SafeSet</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> key4<span class="token punctuation">,</span> value4<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   SafeSet - add and verify an entry after getting the current root:&quot;</span><span class="token punctuation">)</span>
	<span class="token function">printItem</span><span class="token punctuation">(</span>key4<span class="token punctuation">,</span> value4<span class="token punctuation">,</span> verifiedIndex<span class="token punctuation">)</span>

</code></pre></div><h2 id="check-consistency"><a href="#check-consistency" class="header-anchor">#</a> Check consistency</h2> <div class="language-go extra-class"><pre class="language-go"><code>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   Consistency - check consistency between the previous root and latest root:&quot;</span><span class="token punctuation">)</span>
	proof<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">Consistency</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> currentRoot<span class="token punctuation">.</span>Index<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;	verified:	%t\n	firstRoot:	%x at index: %d\n	secondRoot:	%x at index: %d\n&quot;</span><span class="token punctuation">,</span>
		proof<span class="token punctuation">.</span><span class="token function">Verify</span><span class="token punctuation">(</span>immuschema<span class="token punctuation">.</span>Root<span class="token punctuation">{</span>Index<span class="token punctuation">:</span> currentRoot<span class="token punctuation">.</span>Index<span class="token punctuation">,</span> Root<span class="token punctuation">:</span> currentRoot<span class="token punctuation">.</span>Root<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		proof<span class="token punctuation">.</span>FirstRoot<span class="token punctuation">,</span>
		proof<span class="token punctuation">.</span>First<span class="token punctuation">,</span>
		proof<span class="token punctuation">.</span>SecondRoot<span class="token punctuation">,</span>
		proof<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>

</code></pre></div><h2 id="check-inclusion"><a href="#check-inclusion" class="header-anchor">#</a> Check inclusion</h2> <div class="language-go extra-class"><pre class="language-go"><code>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;   Inclusion - check if specified index is included in the current tree:&quot;</span><span class="token punctuation">)</span>
	structuredItem<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">Get</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> key2<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	inclusionProof<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">Inclusion</span><span class="token punctuation">(</span>ctx<span class="token punctuation">,</span> structuredItem<span class="token punctuation">.</span>Index<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	hash<span class="token punctuation">,</span> err <span class="token operator">:=</span> structuredItem<span class="token punctuation">.</span><span class="token function">Hash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;	verified:	%t\n	hash:		%x at index: %d\n	root:		%x at index: %d\n&quot;</span><span class="token punctuation">,</span>
		inclusionProof<span class="token punctuation">.</span><span class="token function">Verify</span><span class="token punctuation">(</span>structuredItem<span class="token punctuation">.</span>Index<span class="token punctuation">,</span> hash<span class="token punctuation">)</span><span class="token punctuation">,</span>
		inclusionProof<span class="token punctuation">.</span>Leaf<span class="token punctuation">,</span>
		inclusionProof<span class="token punctuation">.</span>Index<span class="token punctuation">,</span>
		inclusionProof<span class="token punctuation">.</span>Root<span class="token punctuation">,</span>
		inclusionProof<span class="token punctuation">.</span>At<span class="token punctuation">)</span>

	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;\nDONE. ¯\\_(ツ)_/¯&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="error-handling-and-cleanup"><a href="#error-handling-and-cleanup" class="header-anchor">#</a> Error handling and cleanup</h2> <div class="language-go extra-class"><pre class="language-go"><code>
<span class="token keyword">func</span> <span class="token function">exit</span><span class="token punctuation">(</span>err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token boolean">_</span><span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> fmt<span class="token punctuation">.</span><span class="token function">Fprintln</span><span class="token punctuation">(</span>os<span class="token punctuation">.</span>Stderr<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	os<span class="token punctuation">.</span><span class="token function">Exit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">cleanup</span><span class="token punctuation">(</span>dbDir <span class="token builtin">string</span><span class="token punctuation">,</span> logfile <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// remove db</span>
	os<span class="token punctuation">.</span><span class="token function">RemoveAll</span><span class="token punctuation">(</span>dbDir<span class="token punctuation">)</span>
	<span class="token comment">// remove log file</span>
	os<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>logfile<span class="token punctuation">)</span>
	<span class="token comment">// remove root</span>
	files<span class="token punctuation">,</span> err <span class="token operator">:=</span> filepath<span class="token punctuation">.</span><span class="token function">Glob</span><span class="token punctuation">(</span><span class="token string">&quot;./\\.root*&quot;</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> f <span class="token operator">:=</span> <span class="token keyword">range</span> files <span class="token punctuation">{</span>
			os<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">printItem</span><span class="token punctuation">(</span>key <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> value <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> message <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> index <span class="token builtin">uint64</span>
	ts <span class="token operator">:=</span> <span class="token function">uint64</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Unix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">var</span> verified<span class="token punctuation">,</span> isVerified <span class="token builtin">bool</span>
	<span class="token keyword">var</span> hash <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span>
	<span class="token keyword">switch</span> m <span class="token operator">:=</span> message<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token operator">*</span>immuschema<span class="token punctuation">.</span>Index<span class="token punctuation">:</span>
		index <span class="token operator">=</span> m<span class="token punctuation">.</span>Index
		dig <span class="token operator">:=</span> immuapi<span class="token punctuation">.</span><span class="token function">Digest</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
		hash <span class="token operator">=</span> dig<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
	<span class="token keyword">case</span> <span class="token operator">*</span>immuclient<span class="token punctuation">.</span>VerifiedIndex<span class="token punctuation">:</span>
		index <span class="token operator">=</span> m<span class="token punctuation">.</span>Index
		dig <span class="token operator">:=</span> immuapi<span class="token punctuation">.</span><span class="token function">Digest</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
		hash <span class="token operator">=</span> dig<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
		verified <span class="token operator">=</span> m<span class="token punctuation">.</span>Verified
		isVerified <span class="token operator">=</span> <span class="token boolean">true</span>
	<span class="token keyword">case</span> <span class="token operator">*</span>immuschema<span class="token punctuation">.</span>Item<span class="token punctuation">:</span>
		key <span class="token operator">=</span> m<span class="token punctuation">.</span>Key
		value <span class="token operator">=</span> m<span class="token punctuation">.</span>Value
		index <span class="token operator">=</span> m<span class="token punctuation">.</span>Index
		hash <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">Hash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token operator">*</span>immuschema<span class="token punctuation">.</span>StructuredItem<span class="token punctuation">:</span>
		key <span class="token operator">=</span> m<span class="token punctuation">.</span>Key
		value <span class="token operator">=</span> m<span class="token punctuation">.</span>Value<span class="token punctuation">.</span>Payload
		ts <span class="token operator">=</span> m<span class="token punctuation">.</span>Value<span class="token punctuation">.</span>Timestamp
		index <span class="token operator">=</span> m<span class="token punctuation">.</span>Index
		hash<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">=</span> m<span class="token punctuation">.</span><span class="token function">Hash</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">case</span> <span class="token operator">*</span>immuclient<span class="token punctuation">.</span>VerifiedItem<span class="token punctuation">:</span>
		key <span class="token operator">=</span> m<span class="token punctuation">.</span>Key
		value <span class="token operator">=</span> m<span class="token punctuation">.</span>Value
		index <span class="token operator">=</span> m<span class="token punctuation">.</span>Index
		ts <span class="token operator">=</span> m<span class="token punctuation">.</span>Time
		verified <span class="token operator">=</span> m<span class="token punctuation">.</span>Verified
		isVerified <span class="token operator">=</span> <span class="token boolean">true</span>
		me<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> immuschema<span class="token punctuation">.</span><span class="token function">Merge</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> ts<span class="token punctuation">)</span>
		dig <span class="token operator">:=</span> immuapi<span class="token punctuation">.</span><span class="token function">Digest</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> key<span class="token punctuation">,</span> me<span class="token punctuation">)</span>
		hash <span class="token operator">=</span> dig<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span>

	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>isVerified <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;	index:		%d\n	key:		%s\n	value:		%s\n	hash:		%x\n	time:		%s\n&quot;</span><span class="token punctuation">,</span>
			index<span class="token punctuation">,</span>
			key<span class="token punctuation">,</span>
			value<span class="token punctuation">,</span>
			hash<span class="token punctuation">,</span>
			time<span class="token punctuation">.</span><span class="token function">Unix</span><span class="token punctuation">(</span><span class="token function">int64</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;	index:		%d\n	key:		%s\n	value:		%s\n	hash:		%x\n	time:		%s\n	verified:	%t\n&quot;</span><span class="token punctuation">,</span>
		index<span class="token punctuation">,</span>
		key<span class="token punctuation">,</span>
		value<span class="token punctuation">,</span>
		hash<span class="token punctuation">,</span>
		time<span class="token punctuation">.</span><span class="token function">Unix</span><span class="token punctuation">(</span><span class="token function">int64</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		verified<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">printSetItem</span><span class="token punctuation">(</span>set <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> rkey <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> score <span class="token builtin">float64</span><span class="token punctuation">,</span> message <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> index <span class="token builtin">uint64</span>
	<span class="token keyword">var</span> verified<span class="token punctuation">,</span> isVerified <span class="token builtin">bool</span>
	<span class="token keyword">switch</span> m <span class="token operator">:=</span> message<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">case</span> <span class="token operator">*</span>immuschema<span class="token punctuation">.</span>Index<span class="token punctuation">:</span>
		index <span class="token operator">=</span> m<span class="token punctuation">.</span>Index
	<span class="token keyword">case</span> <span class="token operator">*</span>immuclient<span class="token punctuation">.</span>VerifiedIndex<span class="token punctuation">:</span>
		index <span class="token operator">=</span> m<span class="token punctuation">.</span>Index
		verified <span class="token operator">=</span> m<span class="token punctuation">.</span>Verified
		isVerified <span class="token operator">=</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span>
	key<span class="token punctuation">,</span> err <span class="token operator">:=</span> immustore<span class="token punctuation">.</span><span class="token function">SetKey</span><span class="token punctuation">(</span>rkey<span class="token punctuation">,</span> set<span class="token punctuation">,</span> score<span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>isVerified <span class="token punctuation">{</span>
		fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;	index:		%d\n	set:		%s\n	key:		%s\n	score:		%f\n	value:		%s\n	hash:		%x\n&quot;</span><span class="token punctuation">,</span>
			index<span class="token punctuation">,</span>
			set<span class="token punctuation">,</span>
			key<span class="token punctuation">,</span>
			score<span class="token punctuation">,</span>
			rkey<span class="token punctuation">,</span>
			immuapi<span class="token punctuation">.</span><span class="token function">Digest</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> key<span class="token punctuation">,</span> rkey<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;	index:		%d\n	set:		%s\n	key:		%s\n	score:		%f\n	value:		%s\n	hash:		%x\n	verified:	%t\n&quot;</span><span class="token punctuation">,</span>
		index<span class="token punctuation">,</span>
		set<span class="token punctuation">,</span>
		key<span class="token punctuation">,</span>
		score<span class="token punctuation">,</span>
		rkey<span class="token punctuation">,</span>
		immuapi<span class="token punctuation">.</span><span class="token function">Digest</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> key<span class="token punctuation">,</span> rkey<span class="token punctuation">)</span><span class="token punctuation">,</span>
		verified<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="hello-world-example"><a href="#hello-world-example" class="header-anchor">#</a> Hello World example</h2> <p>You can find a Hello World example here: <a href="https://github.com/codenotary/immudb-client-examples/tree/master/go" target="_blank" rel="noopener noreferrer">Go client example<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="license"><a href="#license" class="header-anchor">#</a> License</h2> <p>immudb is <a href="https://github.com/codenotary/immudb/blob/master/LICENSE" target="_blank" rel="noopener noreferrer">Apache v2.0 License<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div></div></div> <!----> </main> <div class="footer" data-v-63485741><div class="flex row main-section"><div class="flex column brand"><img src="/logos/logo_white_codenotary.png" alt="CodeNotary" class="logo"> <p class="brand-description cn-text-xs">
          Immutable notarization for all your sensitive data. On-premise or in the cloud, easy to use tamperproof storage with cryptographic verification, processing millions of transactions a second.
        </p> <ul class="social-links list cn-text-xs"><li><a href="https://github.com/codenotary"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-github-square fa-w-14"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM277.3 415.7c-8.4 1.5-11.5-3.7-11.5-8 0-5.4.2-33 .2-55.3 0-15.6-5.2-25.5-11.3-30.7 37-4.1 76-9.2 76-73.1 0-18.2-6.5-27.3-17.1-39 1.7-4.3 7.4-22-1.7-45-13.9-4.3-45.7 17.9-45.7 17.9-13.2-3.7-27.5-5.6-41.6-5.6-14.1 0-28.4 1.9-41.6 5.6 0 0-31.8-22.2-45.7-17.9-9.1 22.9-3.5 40.6-1.7 45-10.6 11.7-15.6 20.8-15.6 39 0 63.6 37.3 69 74.3 73.1-4.8 4.3-9.1 11.7-10.6 22.3-9.5 4.3-33.8 11.7-48.3-13.9-9.1-15.8-25.5-17.1-25.5-17.1-16.2-.2-1.1 10.2-1.1 10.2 10.8 5 18.4 24.2 18.4 24.2 9.7 29.7 56.1 19.7 56.1 19.7 0 13.9.2 36.5.2 40.6 0 4.3-3 9.5-11.5 8-66-22.1-112.2-84.9-112.2-158.3 0-91.8 70.2-161.5 162-161.5S388 165.6 388 257.4c.1 73.4-44.7 136.3-110.7 158.3zm-98.1-61.1c-1.9.4-3.7-.4-3.9-1.7-.2-1.5 1.1-2.8 3-3.2 1.9-.2 3.7.6 3.9 1.9.3 1.3-1 2.6-3 3zm-9.5-.9c0 1.3-1.5 2.4-3.5 2.4-2.2.2-3.7-.9-3.7-2.4 0-1.3 1.5-2.4 3.5-2.4 1.9-.2 3.7.9 3.7 2.4zm-13.7-1.1c-.4 1.3-2.4 1.9-4.1 1.3-1.9-.4-3.2-1.9-2.8-3.2.4-1.3 2.4-1.9 4.1-1.5 2 .6 3.3 2.1 2.8 3.4zm-12.3-5.4c-.9 1.1-2.8.9-4.3-.6-1.5-1.3-1.9-3.2-.9-4.1.9-1.1 2.8-.9 4.3.6 1.3 1.3 1.8 3.3.9 4.1zm-9.1-9.1c-.9.6-2.6 0-3.7-1.5s-1.1-3.2 0-3.9c1.1-.9 2.8-.2 3.7 1.3 1.1 1.5 1.1 3.3 0 4.1zm-6.5-9.7c-.9.9-2.4.4-3.5-.6-1.1-1.3-1.3-2.8-.4-3.5.9-.9 2.4-.4 3.5.6 1.1 1.3 1.3 2.8.4 3.5zm-6.7-7.4c-.4.9-1.7 1.1-2.8.4-1.3-.6-1.9-1.7-1.5-2.6.4-.6 1.5-.9 2.8-.4 1.3.7 1.9 1.8 1.5 2.6z"></path></svg></a></li> <li><a href="https://twitter.com/CodeNotary"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-twitter-square fa-w-14"><path fill="currentColor" d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-48.9 158.8c.2 2.8.2 5.7.2 8.5 0 86.7-66 186.6-186.6 186.6-37.2 0-71.7-10.8-100.7-29.4 5.3.6 10.4.8 15.8.8 30.7 0 58.9-10.4 81.4-28-28.8-.6-53-19.5-61.3-45.5 10.1 1.5 19.2 1.5 29.6-1.2-30-6.1-52.5-32.5-52.5-64.4v-.8c8.7 4.9 18.9 7.9 29.6 8.3a65.447 65.447 0 0 1-29.2-54.6c0-12.2 3.2-23.4 8.9-33.1 32.3 39.8 80.8 65.8 135.2 68.6-9.3-44.5 24-80.6 64-80.6 18.9 0 35.9 7.9 47.9 20.7 14.8-2.8 29-8.3 41.6-15.8-4.9 15.2-15.2 28-28.8 36.1 13.2-1.4 26-5.1 37.8-10.2-8.9 13.1-20.1 24.7-32.9 34z"></path></svg></a></li> <li><a href="https://www.facebook.com/Codenotary-Inc-106257094666687"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-facebook-square fa-w-14"><path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"></path></svg></a></li> <li><a href="https://www.linkedin.com/company/codenotary/"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svg-inline--fa fa-linkedin fa-w-14"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li></ul></div> <div class="flex column table"><p class="table_title cn-font-weight-bold"> PRODUCTS </p> <div><a href="https://codenotary.com/products/immutable-ledger" target="_blank" rel="noopener nofollow noreferrer" class="table_link">
            CNIL (Self-Hosted)
          </a></div><div><a href="https://codenotary.com/products/ci-cd" target="_blank" rel="noopener nofollow noreferrer" class="table_link">
            CNIL (Cloud)
          </a></div><div><a href="https://codenotary.com/products/immutable-ledger-metrics-and-logs" target="_blank" rel="noopener nofollow noreferrer" class="table_link">
            CNIL Metrics &amp; Logs
          </a></div></div><div class="flex column table"><p class="table_title cn-font-weight-bold"> RESOURCES </p> <div><a href="https://www.youtube.com/channel/UCYDMxKTM74Acj8LerGrjUuw/videos" target="_blank" rel="noopener nofollow noreferrer" class="table_link">
            Videos
          </a></div><div><a href="https://codenotary.com/blog" target="_blank" rel="noopener nofollow noreferrer" class="table_link">
            Blogs
          </a></div><div><a href="https://codenotary.com/technologies/immudb" target="_blank" rel="noopener nofollow noreferrer" class="table_link">
            immudb
          </a></div></div><div class="flex column table"><p class="table_title cn-font-weight-bold"> COMPANY </p> <div><a href="https://codenotary.com/about" target="_blank" rel="noopener nofollow noreferrer" class="table_link">
            About Us
          </a></div><div><a href="https://codenotary.com/join" target="_blank" rel="noopener nofollow noreferrer" class="table_link">
            Join Us
          </a></div><div><a href="https://codenotary.com/partners" target="_blank" rel="noopener nofollow noreferrer" class="table_link">
            Partners
          </a></div><div><a href="https://codenotary.com/contact" target="_blank" rel="noopener nofollow noreferrer" class="table_link">
            Contact
          </a></div></div></div> <div class="flex row align-center justify-between copyright"><span>Copyright © 2021 CodeNotary, Inc. All rights reserved.</span> <div class="row justify-center tos"><a href="https://www.codenotary.com/terms-of-service/">
                Terms of Service
              </a> <a href="https://www.codenotary.com/privacy-statement">
                Privacy statement
              </a></div></div></div> <a href="https://discord.gg/ThSJxNEHhZ" target="_blank" class="chat-widget" data-v-28c13c9f data-v-63485741><button data-v-28c13c9f><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="discord" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="svg-inline--fa fa-discord fa-w-20" data-v-28c13c9f data-v-28c13c9f><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z" data-v-28c13c9f data-v-28c13c9f></path></svg></button></a></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.342285f5.js" defer></script><script src="/assets/js/56.983d0786.js" defer></script>
  </body>
</html>
